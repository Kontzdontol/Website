<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meme Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Background Layers -->
  <div class="background-layer background-gif"></div>
  <div class="background-layer background-jpg"></div>

  <!-- Icons with Popups -->
  <div class="icon-popup-container">
    <img src="images/profile.png" class="profile-icon clickable" id="profileIcon" alt="Profile">
    <div class="profile-popup popup" id="profilePopup">
      <span class="close-popup" data-popup="profilePopup">&times;</span>
      <img src="images/profile-photo.jpg" alt="Foto Profil" class="popup-photo" />
      <h3>Hamzah Nor Sihab</h3>
      <p>Hi, I'm Hamzah from Kudus, Indonesia, an economics graduate with a strong passion for learning new things. Iâ€™m a self-taught enthusiast in the fields of cryptocurrency and Web3.</p>
    </div>
  </div>

  <div class="icon-popup-container">
    <img src="images/email.png" class="email-icon clickable" id="emailIcon" alt="Email">
    <div class="email-popup popup" id="emailPopup">
      <span class="close-popup" data-popup="emailPopup">&times;</span>
      <h3>ğŸ“§ Contact Email</h3>
      <p><a href="mailto:hamzahnorsihab@gmail.com">hamzahnorsihab@gmail.com</a></p>
    </div>
  </div>

  <div class="icon-popup-container">
    <img src="images/insta.png" class="insta-icon clickable" id="instaIcon" alt="Instagram">
    <div class="insta-popup popup" id="instaPopup">
      <span class="close-popup" data-popup="instaPopup">&times;</span>
      <h3>ğŸ“¸ Instagram</h3>
      <p><a href="https://instagram.com/h.n.sihab" target="_blank">@h.n.sihab</a></p>
    </div>
  </div>

  <div class="icon-popup-container">
    <img src="images/twitter.png" class="twitter-icon clickable" id="twitterIcon" alt="Twitter">
    <div class="twitter-popup popup" id="twitterPopup">
      <span class="close-popup" data-popup="twitterPopup">&times;</span>
      <h3>ğŸ¦ X account</h3>
      <p><a href="https://twitter.com/hazama_sol" target="_blank">@hazama_sol</a></p>
    </div>
  </div>

  <!-- Medium Modal -->
  <img src="images/medium.png" class="medium-icon clickable" id="openMediumModal" alt="Medium">
  <div id="mediumModal" class="medium-popup modal">
    <div class="modal-content">
      <span class="close" id="closeMediumModal">&times;</span>
      <h2>âœï¸ Medium Articles</h2>
      <div id="mediumArticles">Loading articles...</div>
    </div>
  </div>

  <div id="articleModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeArticleModal">&times;</span>
      <button id="backToArticles" class="back-button">&larr; Back</button>
      <div id="mediumArticleContent"></div>
    </div>
  </div>

  <!-- Editor Modal -->
  <img src="images/editor.png" class="editor-button clickable" id="openImageModal" alt="Editor">
  <div id="imageModal" class="editor-popup modal">
    <div class="modal-content">
      <span class="close" id="closeImageModal">&times;</span>
      <h2>ğŸ—‚ï¸ Photo Editor</h2>
      <input type="file" id="imageInput" accept="image/*">
      <div id="promptContainer" style="display:none;">
        <label for="imagePrompt">Masukkan prompt:</label>
        <input type="text" id="imagePrompt" placeholder="Contoh: ubah jadi kartun">
        <button id="generateImageBtn">Upload & Generate</button>
      </div>
      <div id="resultAreaImage">
        <p id="statusImage"></p>
        <img id="uploadedMemeImage" src="" alt="" style="display:none;">
      </div>
    </div>
  </div>

  <!-- Art Generator Modal -->
  <img src="images/art.png" class="art-button clickable" id="openArtModalBtn" alt="Art Generator">
  <div id="artModal" class="art-popup modal">
    <div class="modal-content">
      <span class="close" id="closeArtModal">&times;</span>
      <h2>ğŸ¨ Art Generator</h2>
      <input type="text" id="artPrompt" placeholder="Enter your prompt...">
      <button id="generateArtBtn">Generate Art</button>
      <div id="resultAreaArt">
        <p id="statusArt"></p>
        <img id="uploadedArtImage" src="" alt="" style="display:none;">
      </div>
    </div>
  </div>

  <!-- JavaScript Section -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const popupMap = {
        profileIcon: "profilePopup",
        emailIcon: "emailPopup",
        instaIcon: "instaPopup",
        twitterIcon: "twitterPopup",
      };

      const closeAllPopups = () => {
        document.querySelectorAll(".popup").forEach(p => p.style.display = "none");
      };

      Object.keys(popupMap).forEach(id => {
        document.getElementById(id).addEventListener("click", () => {
          closeAllPopups();
          document.getElementById(popupMap[id]).style.display = "block";
        });
      });

      document.querySelectorAll(".close-popup").forEach(btn => {
        btn.addEventListener("click", () => {
          document.getElementById(btn.dataset.popup).style.display = "none";
        });
      });

      const mediumModal = document.getElementById('mediumModal');
      const articleModal = document.getElementById('articleModal');
      const openMediumModal = document.getElementById('openMediumModal');
      const closeMediumModal = document.getElementById('closeMediumModal');
      const closeArticleModal = document.getElementById('closeArticleModal');
      const backToArticles = document.getElementById('backToArticles');
      const mediumArticles = document.getElementById('mediumArticles');
      const mediumArticleContent = document.getElementById('mediumArticleContent');

      openMediumModal.addEventListener('click', async () => {
        closeAllPopups();
        mediumModal.style.display = 'block';
        mediumArticles.innerHTML = 'Loading...';
        try {
          const res = await fetch('https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@hamzahnorsihab07');
          const data = await res.json();
          if (data.items && data.items.length > 0) {
            mediumArticles.innerHTML = data.items.map(item => `
              <p><a href="#" data-content="${encodeURIComponent(item.content)}" class="article-link">${item.title}</a></p>
            `).join('');
          } else {
            mediumArticles.innerHTML = 'No articles found.';
          }
        } catch {
          mediumArticles.innerHTML = 'Failed to load articles.';
        }
      });

      document.addEventListener('click', e => {
        if (e.target.classList.contains('article-link')) {
          e.preventDefault();
          const content = decodeURIComponent(e.target.getAttribute('data-content'));
          mediumArticleContent.innerHTML = content;
          mediumModal.style.display = 'none';
          articleModal.style.display = 'block';
        }
      });

      closeMediumModal.addEventListener('click', () => mediumModal.style.display = 'none');
      closeArticleModal.addEventListener('click', () => articleModal.style.display = 'none');
      backToArticles.addEventListener('click', () => {
        articleModal.style.display = 'none';
        mediumModal.style.display = 'block';
      });

      document.getElementById('openImageModal').addEventListener('click', () => {
        closeAllPopups();
        document.getElementById('imageModal').style.display = 'block';
      });

      document.getElementById('closeImageModal').addEventListener('click', () => {
        document.getElementById('imageModal').style.display = 'none';
      });

      document.getElementById('openArtModalBtn').addEventListener('click', () => {
        closeAllPopups();
        document.getElementById('artModal').style.display = 'block';
      });

      document.getElementById('closeArtModal').addEventListener('click', () => {
        document.getElementById('artModal').style.display = 'none';
      });
    });
  </script>
  
<script src="script.js"></script>
</body>
</html>