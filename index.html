<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Meme Generator</title>
  <link rel="stylesheet" href="style.css" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0E5Q5ZHERX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-0E5Q5ZHERX');
  </script>
</head>
<body>
  <!-- Background Layers -->
  <div class="background-layer background-gif"></div>
  <div class="background-layer background-jpg"></div>

  <!-- Profile Icon -->
  <img src="images/profile.png" alt="Profile Icon" class="profile-icon" id="profileIcon" />
  <div class="popup profile-popup" id="profilePopup">
    <span class="close-popup" data-popup="profilePopup">&times;</span>
    <img src="images/profile-photo.jpg" alt="Foto Profil" class="popup-photo" />
    <h3>Hamzah Nor Sihab</h3>
    <p>Hi, I'm Hamzah from Kudus, Indonesia, an economics graduate with a strong passion for learning new things. I’m a self-taught enthusiast in the fields of cryptocurrency and Web3.</p>
  </div>

  <!-- Email Icon -->
  <img src="images/email.png" alt="Email Icon" class="email-icon" id="emailIcon" />
  <div class="popup email-popup" id="emailPopup">
    <span class="close-popup" data-popup="emailPopup">&times;</span>
    <h3>📧 Contact Email</h3>
    <p><a href="mailto:hamzahnorsihab@gmail.com">hamzahnorsihab@gmail.com</a></p>
  </div>

  <!-- Instagram Icon -->
  <img src="images/insta.png" alt="Instagram Icon" class="insta-icon" id="instaIcon" />
  <div class="popup insta-popup" id="instaPopup">
    <span class="close-popup" data-popup="instaPopup">&times;</span>
    <h3>📸 Instagram</h3>
    <p><a href="https://instagram.com/h.n.sihab" target="_blank">@h.n.sihab</a></p>
  </div>

  <!-- Twitter Icon -->
  <img src="images/twitter.png" alt="Twitter Icon" class="twitter-icon" id="twitterIcon" />
  <div class="popup twitter-popup" id="twitterPopup">
    <span class="close-popup" data-popup="twitterPopup">&times;</span>
    <h3>🐦 X account</h3>
    <p><a href="https://twitter.com/hazama_sol" target="_blank">@hazama_sol</a></p>
  </div>

  <!-- Medium Icon -->
  <img src="images/medium.png" alt="Medium Icon" class="medium-icon clickable" id="openMediumModal" />

  <div id="mediumModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeMediumModal">&times;</span>
      <h2>✍️ Medium Articles</h2>
      <div id="mediumArticles">Loading articles...</div>
    </div>
  </div>

  <div id="articleModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeArticleModal">&times;</span>
      <button id="backToArticles" style="margin-bottom: 10px;">&larr; Back</button>
      <div id="mediumArticleContent" style="max-height: 70vh; overflow-y: auto;"></div>
    </div>
  </div>

  <!-- Editor Button -->
  <img src="images/editor.png" id="openImageModal" alt="Buka Editor" class="clickable editor-button" />
  <div id="imageModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeImageModal">&times;</span>
      <h2>🖼️ Photo Editor</h2>
      <input type="file" id="imageInput" accept="image/*" style="margin-top: 10px;" />
      <div id="promptContainer" style="display: none; margin-top: 10px;">
        <label for="imagePrompt">Masukkan prompt untuk edit gambar:</label>
        <input type="text" id="imagePrompt" placeholder="Contoh: ubah jadi kartun" style="width: 100%; padding: 8px;" />
        <button id="generateImageBtn" style="margin-top: 10px; padding: 10px 20px;">Upload & Generate</button>
      </div>
      <div id="resultAreaImage" style="margin-top: 20px;">
        <p id="statusImage" style="color: gray;"></p>
        <img id="uploadedMemeImage" src="" alt="Hasil edit gambar" style="max-width: 100%; display: none; border-radius: 8px; margin-top: 10px;" />
      </div>
    </div>
  </div>

  <!-- Art Generator -->
  <img src="images/art.png" id="openArtModalBtn" alt="Buka Art Generator" class="clickable art-button" />
  <div id="artModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeArtModal">&times;</span>
      <h2>🎨 Art Generator</h2>
      <input type="text" id="artPrompt" placeholder="Enter your prompt..." style="margin-top: 10px; width: 100%; padding: 8px;" />
      <button id="generateArtBtn" style="margin-top: 10px; padding: 10px 20px;">Generate Art</button>
      <div id="resultAreaArt" style="margin-top: 20px;">
        <p id="statusArt" style="color: gray;"></p>
        <img id="uploadedArtImage" src="" alt="Hasil art dari prompt" style="max-width: 100%; display: none; border-radius: 8px; margin-top: 10px;" />
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const openMediumModal = document.getElementById('openMediumModal');
      const closeMediumModal = document.getElementById('closeMediumModal');
      const mediumModal = document.getElementById('mediumModal');
      const articleModal = document.getElementById('articleModal');
      const closeArticleModal = document.getElementById('closeArticleModal');
      const backToArticles = document.getElementById('backToArticles');
      const mediumArticles = document.getElementById('mediumArticles');
      const mediumArticleContent = document.getElementById('mediumArticleContent');

      openMediumModal.addEventListener('click', async () => {
        mediumModal.style.display = 'block';
        mediumArticles.innerHTML = 'Loading...';
        try {
          const res = await fetch('https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@hamzahnorsihab07');
          const data = await res.json();
          if (data.items && data.items.length > 0) {
            mediumArticles.innerHTML = data.items.map(item => `
              <p><a href="#" data-content="${encodeURIComponent(item.content)}" class="article-link">${item.title}</a></p>
            `).join('');
          } else {
            mediumArticles.innerHTML = 'No articles found.';
          }
        } catch {
          mediumArticles.innerHTML = 'Failed to load articles.';
        }
      });

      document.addEventListener('click', (e) => {
        if (e.target.classList.contains('article-link')) {
          e.preventDefault();
          const content = decodeURIComponent(e.target.getAttribute('data-content'));
          mediumArticleContent.innerHTML = content;
          mediumModal.style.display = 'none';
          articleModal.style.display = 'block';
        }
      });

      closeMediumModal.addEventListener('click', () => {
        mediumModal.style.display = 'none';
      });

      closeArticleModal.addEventListener('click', () => {
        articleModal.style.display = 'none';
      });

      backToArticles.addEventListener('click', () => {
        articleModal.style.display = 'none';
        mediumModal.style.display = 'block';
      });

      window.addEventListener('click', (event) => {
        if (event.target === mediumModal) mediumModal.style.display = 'none';
        if (event.target === articleModal) articleModal.style.display = 'none';
      });
    });
  </script>
</body>
</html>
